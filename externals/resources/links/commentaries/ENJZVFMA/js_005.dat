
/* Added file from anim-node-plugin/anim-node-plugin-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-node-plugin",function(e,t){var n=function(t){t=t?e.merge(t):{},t.node=t.host,n.superclass.constructor.apply(this,arguments)};n.NAME="nodefx",n.NS="fx",e.extend(n,e.Anim),e.namespace("Plugin"),e.Plugin.NodeFX=n},"3.11.0",{requires:["node-pluginhost","anim-base"]});

/* Added file from anim-scroll/anim-scroll-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-scroll",function(e,t){var n=Number;e.Anim.behaviors.scroll={set:function(e,t,r,i,s,o,u){var a=e._node,f=[u(s,n(r[0]),n(i[0])-n(r[0]),o),u(s,n(r[1]),n(i[1])-n(r[1]),o)];f[0]&&a.set("scrollLeft",f[0]),f[1]&&a.set("scrollTop",f[1])},get:function(e){var t=e._node;return[t.get("scrollLeft"),t.get("scrollTop")]}}},"3.11.0",{requires:["anim-base"]});

/* Added file from themes/salon/js/slnm/yui-mods/scroll-window-to.js */
YUI.add("scroll-window-to",function(a){a.Node.prototype.scrollWindowTo=function(b,c,d){var e=this.getX()+b,f=this.getY()+c,g=e-window.scrollX,h=f-window.scrollY,i=Math.sqrt(Math.pow(g,2)+Math.pow(h,2));return a.UA.ie?window.scrollTo(e,f):(new a.Anim({node:a.one(window),duration:i/(d||3e3),to:{scroll:function(){return[e,f]}}})).run(),this}},{version:"0.0.1",requires:["anim","node"]});
/* Added file from themes/salon/js/slnm/yui-mods/slide-up-down.js */
YUI.add("slide-up-down",function(a){function d(a,b,c,d){a.setStyles({height:b?0:a._originalHeight,overflow:"hidden"}),g(a,!0),a.transition({height:(b?a._originalHeight:0)+"px",duration:c},d)}function e(a,b,c,d){a.transition({opacity:b?1:0,duration:c},d)}function f(a){b._originalHeightValue=b._originalHeightValue||a.getStyle("height"),g(a,!0),a._originalHeight=a.get("region").height,h(a)}function g(a,b){a.setStyles({visibility:b?"visible":"hidden",height:b?null:0})}function h(a){a.setStyles({display:null,visibility:null,overflow:null})}var b=a.Node.prototype;b._originalHeight=null,b._originalHeightValue=null,b.slideUp=function(b,c,h){var i=this;return f(i),a.Lang.isFunction(c)&&(h=c,c=null),c=c||.5,h=h||function(){},i.setStyles({opacity:1,height:i._originalHeight}),b?e(i,!1,c,function(){d(i,!1,c,function(){g(i,!1),h()})}):d(i,!1,c,function(){g(i,!1),h()}),i},b.slideDown=function(b,c,i){var j=this;return!j._originalHeight&&f(j),a.Lang.isFunction(c)&&(i=c,c=null),c=c||.5,i=i||function(){},j.setStyles({opacity:b?0:1,height:0}),d(j,!0,c,function(){b?e(j,!0,c,function(){g(j,!0),h(j),i()}):(g(j,!0),h(j),i())}),j};var c=a.NodeList.prototype;c.slideUp=function(a,b,c){this.each(function(d){d.slideUp(a,b,c)})},c.slideDown=function(a,b,c){this.each(function(d){d.slideDown(a,b,c)})}},{version:"0.0.1",requires:["transition","node"]});
/* Added file from themes/salon/js/slnm/utils/toggle-group.js */
YUI.add("toggle-group",function(a){function b(b){function n(){var c=YUI().UA;e.removeClass("hide").hide(),(!a.Cookie.get(g)||!a.JSON.parse(a.Cookie.get(g)))&&m.each(function(a){(a.getAttribute("data-toggle-on-init")||a.hasClass("hideOnInit"))&&l&&(m.removeClass("hide"),q(!0))}),a.on("scroll",function(b){if(i){var c=a.DOM.viewportRegion();f.each(function(a){a.inRegion(c)&&(i=!1,p())})}});if(c.iphone||c.android)i=!1,p(),m.each(function(a){a.hasClass("hideOnInit")&&(a.removeClass("hideOnInit"),a.addClass("showOnInit"))});o(b)}function o(a){a.on("click",p),h=h||a.hasClass("refreshAds"),i=i||a.hasClass("toggleOnScroll"),k=a.getAttribute("data-delay")||k,d=d.concat(a.all(".onText")),e=e.concat(a.all(".offText")),f.push(a)}function p(a){a&&a.preventDefault(),q(),f.each(function(a){a.hasClass("hideOnTrigger")&&(l?a.hide(.5):a.show(.5))})}function q(b){var c=!slnm.config.lowPowerDevice,g=b?.01:.5;l=!l,f.toggleClass("on",l),l?(m.slideDown(c,g),!j&&h?(setTimeout(function(){a.Global.fire("refreshAllAds")},k*1e3),j=!0):r(.5),d.show(),e.hide()):(m.slideUp(c,g,function(){if(!b){var a=f.get("viewportRegion").height;f.scrollWindowTo(0,-(a-a*.1))}}),r(.5),d.hide(),e.show())}function r(b){function d(){a.Global.fire("updateAllAdPositions"),b>0&&(b-=c,setTimeout(d,c))}var c=33;b=b*1e3+c*2,d()}var c=b.hasClass("remember"),d=new a.NodeList,e=new a.NodeList,f=new a.NodeList,g=b.getAttribute("data-toggle-group"),h=!1,i=!1,j=!1,k=0,l=!0,m=a.all(".toggle-group.target[data-toggle-group="+g+"]");this.initTrigger=o,n()}a.ToggleGroup=b},"0.0.1",{requires:["scroll-window-to","slide-up-down","cookie","json"]});
/* Added file from themes/salon/js/slnm/apps/salon-light-box.js */
YUI.add("salon-light-box",function(a){a.LightBox=function(b){function g(){b.append(c),h(),c.hide()}function h(){b.on("mouseenter",function(){c.show(.75)}),b.on("mouseleave",function(){c.hide(.75)}),b.on("click",function(a){a&&a.preventDefault(),i()})}function i(){var c=b.get("viewportRegion"),g=c.width>1200?1200:c.width-100;e=a.Node.create(a.Lang.sub(d,{imageURL:b.getAttribute("href")})),e.setStyles({position:"absolute",opacity:"0"}).appendTo(a.one("body")),e.on("load",function(){var a=e.get("region").width;e.setStyles({width:g>a?a:g,cursor:"pointer",position:null,opacity:null}),f.setBody(e),f.setHeader("<h3>"+b.getAttribute("title")+"</h3>"),f.modal.get("boundingBox").one(".modalClose").set("text","close X")}),e.on("click",function(){f.close()}),f=new a.Modal(null)}var c=a.Node.create('<span class="enlargeLabel">Enlarge</span>'),d='<img src="{imageURL}"/>',e,f;g()}},"0.0.1",{requires:["transition","salon-modal"]});
/* Added file from themes/salon/js/slnm/utils/disable-on-submit.js */
slmn=window.slnm||{},slmn.utils=slmn.utils||{},slmn.utils.disableOnSubmit={},YUI.add("disable-on-submit",function(a){function c(b){function e(){b.generateID(),f()}function f(){d?d.on("submit",function(){h(!1)}):b.on("click",function(a){a.preventDefault(),b.hasClass("disabled")||h(!1)}),a.each(c.Events,function(b){a.Global.on(b,g)})}function g(a){a.type==c.Events.enableButton||a.type==c.Events.disableButton?a.buttonID==b.get("id")&&h(a.type==c.Events.enableButton):h(a.type==c.Events.enableAllButtons)}function h(a){b.setStyles({width:a?null:b.get("region").width,boxSizing:a?null:"border-box"}).set("disabled",!a).toggleClass("disabled",!a).toggleClass("loading",!a)}var c=this,d=b.ancestor("form");c.toggleButton=h,c.button=b,e()}var b=c.prototype.Events={enableButton:"enableButton",disableButton:"disableButton",disableAllButtons:"disableAllButtons",enableAllButtons:"enableAllButtons"};a.DisableOnSubmit=c,a.each(b,function(b){a.Global.publish(b,{broadcast:1,emitFacade:!0})})},{version:"0.0.1",requires:["node"]});
/* Added file from themes/salon/js/slnm/utils/scroll-to-hash.js */
YUI.add("scroll-to-hash",function(a){function b(b){var c=b.getAttribute("href").replace("#",""),d=a.one("a[name="+c+"]");b.on("click",function(a){a.preventDefault(),d&&(window.location.hash=c,window.scrollTo(0,d.get("region").top-40))})}a.scrollToHash=b},"0.0.1",{requires:["node"]});
/* Added file from themes/salon/js/slnm/utils/post-slider.js */
YUI().add("post-slider",function(a){function b(b){function h(){b.all(".control").on("click",function(a){i(g+(a.currentTarget.hasClass("next")?1:-1))})}function i(b){b=b>=f?0:b,b=b<0?f-1:b,c.transition({left:-d*b+"px"}),g=b,a.Global.fire("checkLazyImages")}var c=b.one("ul"),d=c.get("region").width,e=b.all("ul li"),f=Math.ceil(e.item(0).get("region").width*e.size()/d),g=0;h()}a.PostSlider=b},"0.0.1",{require:["post-slider-css","transition"]});
/* Added file from themes/salon/js/slnm/apps/newsletter-signup.js */
YUI.add("newsletter-signup",function(a){a.NewsletterSignup=function(a){this.form=a,this.msg=a.one(".msg"),this.submitButton=a.one("input[type=submit]"),this.bindUI()};var b=a.NewsletterSignup.prototype={url:""};b.bindUI=function(){this.form.on("submit",this.sendData,this)},b.sendData=function(b){var c=this;b&&b.preventDefault&&b.preventDefault(),a.io(c.form.get("action"),{method:c.form.get("method"),form:{id:c.form.generateID()},on:{success:function(b,d){var e;c.writeMessages(),a.Global.fire("enableButton",{type:"enableButton",buttonID:c.submitButton.generateID()}),console.log(d);try{e=a.JSON.parse(d.responseText)}catch(f){c.writeMessages({errors:[{_msg_:"Cannot parse JSON response. Please try again."}]});return}e.success?c.writeMessages({messages:[{_msg_:e.msg}]}):e.error?c.writeMessages({errors:[{_msg_:e.msg}]}):c.writeMessages(e)},failure:function(){a.disableOnSubmit.rearm(c.submitButton),c.writeMessages({errors:[{_msg_:"We're having trouble with your subscription. Click <a href='mailto:help@salon.com'>here</a> for help"}]})}}})},b.writeMessages=function(b){var c=this;c.msg.empty(),b&&(b.errors&&a.Array.each(b.errors,function(a){c.msg.append(a._msg_)}),b.messages&&(a.Array.each(b.messages,function(a){c.msg.append(a._msg_)}),c.form.all(".hideOnSuccess").setStyle("display","none"),c.msg.setStyle("color","#666")))}});

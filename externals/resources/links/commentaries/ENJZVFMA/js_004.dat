
/* Added file from querystring-stringify-simple/querystring-stringify-simple-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("querystring-stringify-simple",function(e,t){var n=e.namespace("QueryString"),r=encodeURIComponent;n.stringify=function(t,n){var i=[],s=n&&n.arrayKey?!0:!1,o,u,a;for(o in t)if(t.hasOwnProperty(o))if(e.Lang.isArray(t[o]))for(u=0,a=t[o].length;u<a;u++)i.push(r(s?o+"[]":o)+"="+r(t[o][u]));else i.push(r(o)+"="+r(t[o]));return i.join("&")}},"3.11.0",{requires:["yui-base"]});

/* Added file from io-base/io-base-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-base",function(e,t){function o(t){var n=this;n._uid="io:"+s++,n._init(t),e.io._map[n._uid]=n}var n=["start","complete","end","success","failure","progress"],r=["status","statusText","responseText","responseXML"],i=e.config.win,s=0;o.prototype={_id:0,_headers:{"X-Requested-With":"XMLHttpRequest"},_timeout:{},_init:function(t){var r=this,i,s;r.cfg=t||{},e.augment(r,e.EventTarget);for(i=0,s=n.length;i<s;++i)r.publish("io:"+n[i],e.merge({broadcast:1},t)),r.publish("io-trn:"+n[i],t)},_create:function(t,n){var r=this,s={id:e.Lang.isNumber(n)?n:r._id++,uid:r._uid},o=t.xdr?t.xdr.use:null,u=t.form&&t.form.upload?"iframe":null,a;return o==="native"&&(o=e.UA.ie&&!l?"xdr":null,r.setHeader("X-Requested-With")),a=o||u,s=a?e.merge(e.IO.customTransport(a),s):e.merge(e.IO.defaultTransport(),s),s.notify&&(t.notify=function(e,t,n){r.notify(e,t,n)}),a||i&&i.FormData&&t.data instanceof i.FormData&&(s.c.upload.onprogress=function(e){r.progress(s,e,t)},s.c.onload=function(e){r.load(s,e,t)},s.c.onerror=function(e){r.error(s,e,t)},s.upload=!0),s},_destroy:function(t){i&&!t.notify&&!t.xdr&&(u&&!t.upload?t.c.onreadystatechange=null:t.upload?(t.c.upload.onprogress=null,t.c.onload=null,t.c.onerror=null):e.UA.ie&&!t.e&&t.c.abort()),t=t.c=null},_evt:function(t,r,i){var s=this,o,u=i.arguments,a=s.cfg.emitFacade,f="io:"+t,l="io-trn:"+t;this.detach(l),r.e&&(r.c={status:0,statusText:r.e}),o=[a?{id:r.id,data:r.c,cfg:i,arguments:u}:r.id],a||(t===n[0]||t===n[2]?u&&o.push(u):(r.evt?o.push(r.evt):o.push(r.c),u&&o.push(u))),o.unshift(f),s.fire.apply(s,o),i.on&&(o[0]=l,s.once(l,i.on[t],i.context||e),s.fire.apply(s,o))},start:function(e,t){this._evt(n[0],e,t)},complete:function(e,t){this._evt(n[1],e,t)},end:function(e,t){this._evt(n[2],e,t),this._destroy(e)},success:function(e,t){this._evt(n[3],e,t),this.end(e,t)},failure:function(e,t){this._evt(n[4],e,t),this.end(e,t)},progress:function(e,t,r){e.evt=t,this._evt(n[5],e,r)},load:function(e,t,r){e.evt=t.target,this._evt(n[1],e,r)},error:function(e,t,r){e.evt=t,this._evt(n[4],e,r)},_retry:function(e,t,n){return this._destroy(e),n.xdr.use="flash",this.send(t,n,e.id)},_concat:function(e,t){return e+=(e.indexOf("?")===-1?"?":"&")+t,e},setHeader:function(e,t){t?this._headers[e]=t:delete this._headers[e]},_setHeaders:function(t,n){n=e.merge(this._headers,n),e.Object.each(n,function(e,r){e!=="disable"&&t.setRequestHeader(r,n[r])})},_startTimeout:function(e,t){var n=this;n._timeout[e.id]=setTimeout(function(){n._abort(e,"timeout")},t)},_clearTimeout:function(e){clearTimeout(this._timeout[e]),delete this._timeout[e]},_result:function(e,t){var n;try{n=e.c.status}catch(r){n=0}n>=200&&n<300||n===304||n===1223?this.success(e,t):this.failure(e,t)},_rS:function(e,t){var n=this;e.c.readyState===4&&(t.timeout&&n._clearTimeout(e.id),setTimeout(function(){n.complete(e,t),n._result(e,t)},0))},_abort:function(e,t){e&&e.c&&(e.e=t,e.c.abort())},send:function(t,n,i){var s,o,u,a,f,c,h=this,p=t,d={};n=n?e.Object(n):{},s=h._create(n,i),o=n.method?n.method.toUpperCase():"GET",f=n.sync,c=n.data,e.Lang.isObject(c)&&!c.nodeType&&!s.upload&&e.QueryString&&e.QueryString.stringify&&(n.data=c=e.QueryString.stringify(c));if(n.form){if(n.form.upload)return h.upload(s,t,n);c=h._serialize(n.form,c)}c||(c="");if(c)switch(o){case"GET":case"HEAD":case"DELETE":p=h._concat(p,c),c="";break;case"POST":case"PUT":n.headers=e.merge({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},n.headers)}if(s.xdr)return h.xdr(p,s,n);if(s.notify)return s.c.send(s,t,n);!f&&!s.upload&&(s.c.onreadystatechange=function(){h._rS(s,n)});try{s.c.open(o,p,!f,n.username||null,n.password||null),h._setHeaders(s.c,n.headers||{}),h.start(s,n),n.xdr&&n.xdr.credentials&&l&&(s.c.withCredentials=!0),s.c.send(c);if(f){for(u=0,a=r.length;u<a;++u)d[r[u]]=s.c[r[u]];return d.getAllResponseHeaders=function(){return s.c.getAllResponseHeaders()},d.getResponseHeader=function(e){return s.c.getResponseHeader(e)},h.complete(s,n),h._result(s,n),d}}catch(v){if(s.xdr)return h._retry(s,t,n);h.complete(s,n),h._result(s,n)}return n.timeout&&h._startTimeout(s,n.timeout),{id:s.id,abort:function(){return s.c?h._abort(s,"abort"):!1},isInProgress:function(){return s.c?s.c.readyState%4:!1},io:h}}},e.io=function(t,n){var r=e.io._map["io:0"]||new o;return r.send.apply(r,[t,n])},e.io.header=function(t,n){var r=e.io._map["io:0"]||new o;r.setHeader(t,n)},e.IO=o,e.io._map={};var u=i&&i.XMLHttpRequest,a=i&&i.XDomainRequest,f=i&&i.ActiveXObject,l=u&&"withCredentials"in new XMLHttpRequest;e.mix(e.IO,{_default:"xhr",defaultTransport:function(t){if(!t){var n={c:e.IO.transports[e.IO._default](),notify:e.IO._default==="xhr"?!1:!0};return n}e.IO._default=t},transports:{xhr:function(){return u?new XMLHttpRequest:f?new ActiveXObject("Microsoft.XMLHTTP"):null},xdr:function(){return a?new XDomainRequest:null},iframe:function(){return{}},flash:null,nodejs:null},customTransport:function(t){var n={c:e.IO.transports[t]()};return n[t==="xdr"||t==="flash"?"xdr":"notify"]=!0,n}}),e.mix(e.IO.prototype,{notify:function(e,t,n){var r=this;switch(e){case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e},e="failure";default:r[e].apply(r,[t,n])}}})},"3.11.0",{requires:["event-custom-base","querystring-stringify-simple"]});

/* Added file from datatype-xml-parse/datatype-xml-parse-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("datatype-xml-parse",function(e,t){var n=e.Lang;e.mix(e.namespace("XML"),{parse:function(e){var t=null;if(n.isString(e))try{n.isUndefined(ActiveXObject)||(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e))}catch(r){try{n.isUndefined(DOMParser)||(t=(new DOMParser).parseFromString(e,"text/xml")),n.isUndefined(Windows.Data.Xml.Dom)||(t=new Windows.Data.Xml.Dom.XmlDocument,t.loadXml(e))}catch(i){}}return n.isNull(t)||n.isNull(t.documentElement)||t.documentElement.nodeName==="parsererror",t}}),e.namespace("Parsers").xml=e.XML.parse,e.namespace("DataType"),e.DataType.XML=e.XML},"3.11.0");

/* Added file from io-xdr/io-xdr-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-xdr",function(e,t){function a(e,t,n){var r='<object id="io_swf" type="application/x-shockwave-flash" data="'+e+'" width="0" height="0">'+'<param name="movie" value="'+e+'">'+'<param name="FlashVars" value="yid='+t+"&uid="+n+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",i=s.createElement("div");s.body.appendChild(i),i.innerHTML=r}function f(t,n,r){return n==="flash"&&(t.c.responseText=decodeURI(t.c.responseText)),r==="xml"&&(t.c.responseXML=e.DataType.XML.parse(t.c.responseText)),t}function l(e,t){return e.c.abort(e.id,t)}function c(e){return u?i[e.id]!==4:e.c.isInProgress(e.id)}var n=e.publish("io:xdrReady",{fireOnce:!0}),r={},i={},s=e.config.doc,o=e.config.win,u=o&&o.XDomainRequest;e.mix(e.IO.prototype,{_transport:{},_ieEvt:function(e,t){var n=this,r=e.id,s="timeout";e.c.onprogress=function(){i[r]=3},e.c.onload=function(){i[r]=4,n.xdrResponse("success",e,t)},e.c.onerror=function(){i[r]=4,n.xdrResponse("failure",e,t)},e.c.ontimeout=function(){i[r]=4,n.xdrResponse(s,e,t)},e.c[s]=t[s]||0},xdr:function(t,n,i){var s=this;return i.xdr.use==="flash"?(r[n.id]=i,o.setTimeout(function(){try{n.c.send(t,{id:n.id,uid:n.uid,method:i.method,data:i.data,headers:i.headers})}catch(e){s.xdrResponse("transport error",n,i),delete r[n.id]}},e.io.xdr.delay)):u?(s._ieEvt(n,i),n.c.open(i.method||"GET",t),setTimeout(function(){n.c.send(i.data)},0)):n.c.send(t,n,i),{id:n.id,abort:function(){return n.c?l(n,i):!1},isInProgress:function(){return n.c?c(n.id):!1},io:s}},xdrResponse:function(e,t,n){n=r[t.id]?r[t.id]:n;var s=this,o=u?i:r,a=n.xdr.use,l=n.xdr.dataType;switch(e){case"start":s.start(t,n);break;case"success":s.success(f(t,a,l),n),delete o[t.id];break;case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e};case"failure":s.failure(f(t,a,l),n),delete o[t.id]}},_xdrReady:function(t,r){e.fire(n,t,r)},transport:function(t){t.id==="flash"&&(a(e.UA.ie?t.src+"?d="+(new Date).valueOf().toString():t.src,e.id,t.uid),e.IO.transports.flash=function(){return s.getElementById("io_swf")})}}),e.io.xdrReady=function(t,n){var r=e.io._map[n];e.io.xdr.delay=0,r._xdrReady.apply(r,[t,n])},e.io.xdrResponse=function(t,n,r){var i=e.io._map[n.uid];i.xdrResponse.apply(i,[t,n,r])},e.io.transport=function(t){var n=e.io._map["io:0"]||new e.IO;t.uid=n._uid,n.transport.apply(n,[t])},e.io.xdr={delay:100}},"3.11.0",{requires:["io-base","datatype-xml-parse"]});

/* Added file from io-form/io-form-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-form",function(e,t){var n=encodeURIComponent;e.IO.stringify=function(t,n){n=n||{};var r=e.IO.prototype._serialize({id:t,useDisabled:n.useDisabled},n.extra&&typeof n.extra=="object"?e.QueryString.stringify(n.extra):n.extra);return r},e.mix(e.IO.prototype,{_serialize:function(t,r){var i=[],s=t.useDisabled||!1,o=0,u=typeof t.id=="string"?t.id:t.id.getAttribute("id"),a,f,l,c,h,p,d,v,m,g;u||(u=e.guid("io:"),t.id.setAttribute("id",u)),f=e.config.doc.getElementById(u);if(!f||!f.elements)return r||"";for(p=0,d=f.elements.length;p<d;++p){a=f.elements[p],h=a.disabled,l=a.name;if(s?l:l&&!h){l=n(l)+"=",c=n(a.value);switch(a.type){case"select-one":a.selectedIndex>-1&&(g=a.options[a.selectedIndex],i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"select-multiple":if(a.selectedIndex>-1)for(v=a.selectedIndex,m=a.options.length;v<m;++v)g=a.options[v],g.selected&&(i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"radio":case"checkbox":a.checked&&(i[o++]=l+c);break;case"file":case undefined:case"reset":case"button":break;case"submit":default:i[o++]=l+c}}}return r&&(i[o++]=r),i.join("&")}},!0)},"3.11.0",{requires:["io-base","node-base"]});

/* Added file from io-upload-iframe/io-upload-iframe-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-upload-iframe",function(e,t){function u(t,n,r){var i=e.Node.create('<iframe src="#" id="io_iframe'+t.id+'" name="io_iframe'+t.id+'" />');i._node.style.position="absolute",i._node.style.top="-1000px",i._node.style.left="-1000px",e.one("body").appendChild(i),e.on("load",function(){r._uploadComplete(t,n)},"#io_iframe"+t.id)}function a(t){e.Event.purgeElement("#io_iframe"+t,!1),e.one("body").removeChild(e.one("#io_iframe"+t))}var n=e.config.win,r=e.config.doc,i=r.documentMode&&r.documentMode>=8,s=decodeURIComponent,o=e.IO.prototype.end;e.mix(e.IO.prototype,{_addData:function(t,n){e.Lang.isObject(n)&&(n=e.QueryString.stringify(n));var i=[],o=n.split("="),u,a;for(u=0,a=o.length-1;u<a;u++)i[u]=r.createElement("input"),i[u].type="hidden",i[u].name=s(o[u].substring(o[u].lastIndexOf("&")+1)),i[u].value=u+1===a?s(o[u+1]):s(o[u+1].substring(0,o[u+1].lastIndexOf("&"))),t.appendChild(i[u]);return i},_removeData:function(e,t){var n,r;for(n=0,r=t.length;n<r;n++)e.removeChild(t[n])},_setAttrs:function(t,n,r){this._originalFormAttrs={action:t.getAttribute("action"),target:t.getAttribute("target")},t.setAttribute("action",r),t.setAttribute("method","POST"),t.setAttribute("target","io_iframe"+n),t.setAttribute(e.UA.ie&&!i?"encoding":"enctype","multipart/form-data")},_resetAttrs:function(t,n){e.Object.each(n,function(e,n){e?t.setAttribute(n,e):t.removeAttribute(n)})},_startUploadTimeout:function(e,t){var r=this;r._timeout[e.id]=n.setTimeout(function(){e.status=0,e.statusText="timeout",r.complete(e,t),r.end(e,t)},t.timeout)},_clearUploadTimeout:function(e){var t=this;n.clearTimeout(t._timeout[e]),delete t._timeout[e]},_uploadComplete:function(t,r){var i=this,s=e.one("#io_iframe"+t.id).get("contentWindow.document"),o=s.one("body"),u;r.timeout&&i._clearUploadTimeout(t.id);try{o?(u=o.one("pre:first-child"),t.c.responseText=u?u.get("text"):o.get("text")):t.c.responseXML=s._node}catch(f){t.e="upload failure"}i.complete(t,r),i.end(t,r),n.setTimeout(function(){a(t.id)},0)},_upload:function(t,n,i){var s=this,o=typeof i.form.id=="string"?r.getElementById(i.form.id):i.form.id,u;return s._setAttrs(o,t.id,n),i.data&&(u=s._addData(o,i.data)),i.timeout&&s._startUploadTimeout(t,i),o.submit(),s.start(t,i),i.data&&s._removeData(o,u),{id:t.id,abort:function(){t.status=0,t.statusText="abort";if(!e.one("#io_iframe"+t.id))return!1;a(t.id),s.complete(t,i),s.end(t,i)},isInProgress:function(){return e.one("#io_iframe"+t.id)?!0:!1},io:s}},upload:function(e,t,n){return u(e,n,this),this._upload(e,t,n)},end:function(e,t){var n,i;return t&&(n=t.form,n&&n.upload&&(i=this,n=typeof n.id=="string"?r.getElementById(n.id):n.id,i._resetAttrs(n,this._originalFormAttrs))),o.call(this,e,t)}},!0)},"3.11.0",{requires:["io-base","node-base"]});

/* Added file from queue-promote/queue-promote-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("queue-promote",function(e,t){e.mix(e.Queue.prototype,{indexOf:function(t){return e.Array.indexOf(this._q,t)},promote:function(e){var t=this.indexOf(e);t>-1&&this._q.unshift(this._q.splice(t,1)[0])},remove:function(e){var t=this.indexOf(e);t>-1&&this._q.splice(t,1)}})},"3.11.0",{requires:["yui-base"]});

/* Added file from io-queue/io-queue-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("io-queue",function(e,t){function r(e,t){return n.queue.apply(n,[e,t])}var n=e.io._map["io:0"]||new e.IO;e.mix(e.IO.prototype,{_q:new e.Queue,_qActiveId:null,_qInit:!1,_qState:1,_qShift:function(){var e=this,t=e._q.next();e._qActiveId=t.id,e._qState=0,e.send(t.uri,t.cfg,t.id)},queue:function(t,n){var r=this,i={uri:t,cfg:n,id:this._id++};return r._qInit||(e.on("io:complete",function(e,t){r._qNext(e)},r),r._qInit=!0),r._q.add(i),r._qState===1&&r._qShift(),i},_qNext:function(e){var t=this;t._qState=1,t._qActiveId===e&&t._q.size()>0&&t._qShift()},qPromote:function(e){this._q.promote(e)},qRemove:function(e){this._q.remove(e)},qEmpty:function(){this._q=new e.Queue},qStart:function(){var e=this;e._qState=1,e._q.size()>0&&e._qShift()},qStop:function(){this._qState=0},qSize:function(){return this._q.size()}},!0),r.start=function(){n.qStart()},r.stop=function(){n.qStop()},r.promote=function(e){n.qPromote(e)},r.remove=function(e){n.qRemove(e)},r.size=function(){n.qSize()},r.empty=function(){n.qEmpty()},e.io.queue=r},"3.11.0",{requires:["io-base","queue-promote"]});

/* Added file from plugins/salon-auth/js/login-logout.js */
YUI.add("login-logout",function(a){function b(b){function e(){var e=b.get("className").split(" ");a.Array.each(e,function(a){c=c||d[a]||null}),h(),g()}function f(b){a.io("/auth/logout/",{on:{success:function(){a.Cookie.remove("salon_login"),a.Cookie.remove("salon_user_name"),a.Cookie.remove("salon_status_cookie"),a.Cookie.remove("livefyre_token"),slnm.user.updateLogin(b),location.pathname.indexOf("/settings")===0&&(location.href="/")}}})}function g(){c!=d.salonUserName&&!b.hasClass("no-link")&&b.on("click",function(a){a.preventDefault(),c==d.salonLogout?slnm.user.logout():slnm.user.openLoginPopup(c==d.salonRegister)}),a.Global.on("salonUserUpdated",h)}function h(){var a=slnm.user.loggedin;a=c==d.salonLogin||c==d.salonRegister?!a:a,b.toggleClass("hide",!a),c==d.salonUserName&&!b.hasClass("no-write")&&(b.setHTML("<a title='Edit profile' class='gaTrackLinkEvent' href='/settings'>"+slnm.user.userName+"</a>"),b.on("click",function(a){slnm.gaTracking.trackLink(["navigation","click","username"])}))}function i(b){var c=800,d=450,e=a.Node.create('<iframe src="/auth/login/"width="'+(a.DOM.viewportRegion().width<900?640:850)+'px" height="450px"'+'scrolling="no" marginWidth="0" marginHeight="0"'+'border="0"/>'),f=new a.Modal;f.setHeader("<h3>Sign in to Salon</h3>"),f.setBody(e),f.modal.get("boundingBox").one(".modalClose").set("text","Close")}var c,d={salonUserName:"salonUserName",salonLogout:"salonLogout",salonLogin:"salonLogin",salonRegister:"salonRegister"};slnm.user.logout=f,slnm.user.openLoginPopup=i,e()}a.LoginLogout=b},{version:"0.0.1",requires:["node"]});
/* Added file from themes/salon/js/slnm/apps/salon-lazy-loader.js */
YUI.add("salon-lazy-loader",function(a){function b(){function c(){a.on("scroll",e),a.on("resize",e),a.Global.on("checkLazyImages",e),a.Global.on("swapLazyImageSize",g),a.on("domready",e),a.Global.on("loadLazyImage",h)}function d(a,c){var d=a.generateID();b[d]=new i(a),f(b[d],null,c)}function e(c){c=c||{};var d=a.DOM.viewportRegion();a.each(b,function(a){f(a,d,c.size||a.size)})}function f(b,c,d){c=c||a.DOM.viewportRegion(),(!b.loaded[d]||b.size!=d)&&b.img.inRegion(c)&&b.load(d)}function g(a){var c=b[a.imageID],d=a.size||"standard",e=a.oldSize;c&&c.load(d)}function h(c){b[c.imageID]||d(a.one("#"+c.imageID),c.size),(!b[c.imageID].loaded[c.size]||b[c.imageID].size!=c.size)&&b[c.imageID].load(c.size)}function i(a){function b(b){b=b||"standard",a.setStyle("opacity",0).set("src",a.getAttribute("data-source-"+b)||null).transition({opacity:1}),this.size=b,this.loaded[b]=!0}this.loaded={},this.img=a,this.load=b,this.size="standard"}var b={};this.addImage=d,this.checkImages=e,this.checkImage=f,c()}a.LazyLoader=b},"0.0.1",{requires:["node","transition"]});
/* Added file from themes/salon/js/slnm/utils/exit-tracker.js */
YUI.add("exit-tracker",function(a){a.trackExternalLinks=function(a){a.on("click",function(a){var b=a.target;b&&b.get("tagName")=="A"&&!b.get("href").match(location.host)&&slnm.gaTracking.trackLink(["exitsite","click",b.get("text")])})}},"0.0.1",{requires:["node","ga-tracking-setup"]});
/* Added file from themes/salon/js/slnm/utils/ga-track-page-event.js */
YUI.add("ga-track-page-event",function(a){function b(b){var c=0,d=a.JSON.parse(b.one(".jsonConfig").get("innerHTML"));c=b.getAttribute("data-delay")||c,d&&setTimeout(function(){slnm.gaTracking.trackPage(d)},c*1e3)}a.gaTrackPageEvent=b},"0.0.1",{requires:["node","ga-tracking-setup","json"]});
/* Added file from themes/salon/js/slnm/apps/load-fail.js */
YUI().add("load-fail",function(a){a.loadFail=function(){slnm.gaTracking.trackLink(["adsBlocked","click",document.title])}},"0.0.1",{requires:["node","ga-tracking-setup"]});
/* Added file from event-mouseenter/event-mouseenter-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-mouseenter",function(e,t){var n=e.Env.evt.dom_wrappers,r=e.DOM.contains,i=e.Array,s=function(){},o={proxyType:"mouseover",relProperty:"fromElement",_notify:function(t,i,s){var o=this._node,u=t.relatedTarget||t[i];o!==u&&!r(o,u)&&s.fire(new e.DOMEventFacade(t,o,n["event:"+e.stamp(o)+t.type]))},on:function(t,n,r){var i=e.Node.getDOMNode(t),s=[this.proxyType,this._notify,i,null,this.relProperty,r];n.handle=e.Event._attach(s,{facade:!1})},detach:function(e,t){t.handle.detach()},delegate:function(t,n,r,i){var o=e.Node.getDOMNode(t),u=[this.proxyType,s,o,null,r];n.handle=e.Event._attach(u,{facade:!1}),n.handle.sub.filter=i,n.handle.sub.relProperty=this.relProperty,n.handle.sub._notify=this._filterNotify},_filterNotify:function(t,n,s){n=n.slice(),this.args&&n.push.apply(n,this.args);var o=e.delegate._applyFilter(this.filter,n,s),u=n[0].relatedTarget||n[0][this.relProperty],a,f,l,c,h;if(o){o=i(o);for(f=0,l=o.length&&(!a||!a.stopped);f<l;++f){h=o[0];if(!r(h,u)){a||(a=new e.DOMEventFacade(n[0],h,s),a.container=e.one(s.el)),a.currentTarget=e.one(h),c=n[1].fire(a);if(c===!1)break}}}return c},detachDelegate:function(e,t){t.handle.detach()}};e.Event.define("mouseenter",o,!0),e.Event.define("mouseleave",e.merge(o,{proxyType:"mouseout",relProperty:"toElement"}),!0)},"3.11.0",{requires:["event-synthetic"]});

/* Added file from themes/salon/js/slnm/utils/slide-out.js */
YUI.add("slide-out",function(a){a.SlideOut=function(b){var c=this;c.button=b,c.groupID=b.getAttribute("data-slide-out-id"),c.target=a.one(".slide-out."+c.groupID),c.page=a.one(".pageContents"),c.content=a.one(".pageContents .mainContent"),c.on=!1,c.button.show(.5),c.bindUI()},a.SlideOut.prototype.bindUI=function(){var b=this;b.target.on("mouseleave",function(){b.clearTimer(),b.closeHandler=a.later(500,b,b.show,[!1])}),b.button.on("click",function(){b.show(!b.on)}),b.target.on("mouseenter",function(){b.show(!0)})},a.SlideOut.prototype.clearTimer=function(){this.closeHandler&&(this.closeHandler.cancel(),this.closeHandler=null)},a.SlideOut.prototype.show=function(a){var b=this;b.button.getStyle("display")!="none"&&(b.clearTimer(),b.target.transition({"-webkit-transform":"translate("+(a?b.target.get("region").width+"px":"0")+", 0)"}),b.on=a)}},"0.0.1",{requires:["transition","event-mouseenter"]});
/* Added file from jsonp/jsonp-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("jsonp",function(e,t){function r(){this._init.apply(this,arguments)}var n=e.Lang.isFunction;r.prototype={_init:function(t,r){this.url=t,this._requests={},this._timeouts={},r=n(r)?{on:{success:r}}:r||{};var i=r.on||{};i.success||(i.success=this._defaultCallback(t,r)),this._config=e.merge({context:this,args:[],format:this._format,allowCache:!1},r,{on:i})},_defaultCallback:function(){},send:function(){function u(e,r){return n(e)?function(n){var o=!0,u="_requests";r?(++t._timeouts[s],--t._requests[s]):(t._requests[s]||(o=!1,u="_timeouts"),--t[u][s]),!t._requests[s]&&!t._timeouts[s]&&delete YUI.Env.JSONP[s],o&&e.apply(i.context,[n].concat(i.args))}:null}var t=this,r=e.Array(arguments,0,!0),i=t._config,s=t._proxy||e.guid(),o;return i.allowCache&&(t._proxy=s),t._requests[s]===undefined&&(t._requests[s]=0),t._timeouts[s]===undefined&&(t._timeouts[s]=0),t._requests[s]++,r.unshift(t.url,"YUI.Env.JSONP."+s),o=i.format.apply(t,r),i.on.success?(YUI.Env.JSONP[s]=u(i.on.success),e.Get.js(o,{onFailure:u(i.on.failure),onTimeout:u(i.on.timeout,!0),timeout:i.timeout,charset:i.charset,attributes:i.attributes,async:i.async}).execute(),t):t},_format:function(e,t){return e.replace(/\{callback\}/,t)}},e.JSONPRequest=r,e.jsonp=function(t,n){var r=new e.JSONPRequest(t,n);return r.send.apply(r,e.Array(arguments,2,!0))},YUI.Env.JSONP||(YUI.Env.JSONP={})},"3.11.0",{requires:["get","oop"]});

/* Added file from themes/salon/js/slnm/apps/share-buttons.js */
YUI.add("share-buttons",function(a){function c(c,d){function l(){if(h)if(h.iframeURL){var b={iframeSource:a.Lang.sub(h.iframeURL,k)};c.replace(a.Lang.sub(a.Lang.sub(i,h),b)).detachAll("mouseover")}else f&&o(),m()}function m(){c.on("click",function(a){n(a),c.hasClass("noTracking")||slnm.gaTracking.trackLink([g,"click",k.shareLink||k.screenName])})}function n(b){function e(){try{d.closed?o():setTimeout(e,100)}catch(a){setTimeout(e,100)}}b&&b.preventDefault&&b.preventDefault();var c=a.Lang.sub(h.shareURLTemplate,k),d;d=window.open(c,"shareWindow"+a.stamp(this),g!=="printArticle"?"width=800,height=600,status=0":"",!0),e()}function o(){function b(a){return a>999&&(a=parseInt(a/1e3)+"K"),a}a.jsonp(a.Lang.sub(h.countURLTemplate,k),function(a){f.set("text",b(h.countParser(a)))})}d=d||{},c instanceof a.Node||(d=c,c=a.Node.create('<a class="shareButton"></a>'));var e=this,f=c.one(".shareCount"),g=c.getAttribute("data-service")||d.service,h=b[g],i='<iframe src="{iframeSource}" marginheight="0" marginwidth="0" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:{width}px; height:20px;" allowTransparency="true"></iframe>',j="http://developers.facebook.com/tools/debug/og/object?q=",k={shareLink:encodeURIComponent(d.shareLink||c.getAttribute("data-share-url")||c.getAttribute("href")||window.location.href),headline:encodeURIComponent(d.headline||c.getAttribute("data-headline")||c.getAttribute("title")||document.title),screenName:encodeURIComponent(d.screenName||c.getAttribute("data-screen-name")||""),summary:encodeURIComponent(d.summary||c.getAttribute("data-summary")||""),thumbnail:encodeURIComponent(d.thumbnail||c.getAttribute("data-thumbnail")||c.getAttribute("src")||"")};this.root=c,this.service=h,l()}a.ShareButton=c;var b=a.shareButtonSerices={facebookSend:{shareURLTemplate:"http://www.facebook.com/sharer/sharer.php?u={shareLink}",countURLTemplate:'https://graph.facebook.com/fql?q=select%20%20like_count%20from%20link_stat%20where%20url="{shareLink}"&callback={callback}',countParser:function(a){return a.data[0].like_count},excludeFromAll:!0,fbDebug:!0},facebookSendCustom:{shareURLTemplate:"//www.facebook.com/sharer.php?s=100&p[title]={headline}&p[url]={shareLink}&p[images][0]={thumbnail}&p[summary]={summary}",countURLTemplate:'https://graph.facebook.com/fql?q=select%20%20like_count%20from%20link_stat%20where%20url="{shareLink}"&callback={callback}',countParser:function(a){return a.data[0].like_count},excludeFromAll:!0},facebookLike:{width:90,iframeURL:"//www.facebook.com/plugins/like.php?href={shareLink}&amp;send=false&amp;layout=button_count&amp;width=80&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=arial&amp;height=20",excludeFromAll:!0},facebookRecommend:{width:125,iframeURL:"//www.facebook.com/plugins/like.php?href={shareLink}&amp;send=false&amp;layout=button_count&amp;width=115&amp;show_faces=false&amp;action=recommend&amp;colorscheme=light&amp;font=arial&amp;height=20",excludeFromAll:!0},facebookFollow:{width:115,iframeURL:"//www.facebook.com/plugins/follow.php?href={shareLink}&amp;layout=button_count&amp;show_faces=false&amp;colorscheme=light&amp;font=arial&amp;width=115",excludeFromAll:!0},facebookFollowers:{shareURLTemplate:"https://www.facebook.com/{screenName}/",countURLTemplate:"https://graph.facebook.com/{screenName}/?callback={callback}",countParser:function(a){return a.likes}},twitterTweets:{name:"Twitter",shareURLTemplate:"https://twitter.com/intent/tweet?text={headline}&url={shareLink}&via=Salon",countURLTemplate:"https://cdn.api.twitter.com/1/urls/count.json?url={shareLink}&callback={callback}",countParser:function(a){return a.count}},twitterFollowers:{excludeFromAll:!0,name:"Follow",shareURLTemplate:"https://twitter.com/intent/follow?screen_name={screenName}&source=followbutton&variant=2.0",countURLTemplate:"https://cdn.api.twitter.com/1/users/show.json?screen_name={screenName}&callback={callback}",countParser:function(a){return a.followers_count}},googlePlus:{width:65,iframeURL:"https://plusone.google.com/_/+1/fastbutton?url={shareLink}&size=medium&count=true&origin=http%3A%2F%2Fwww.salon.com&parent=http%3A%2F%2Fwww.salon.com",excludeFromAll:!0},linkedin:{shareURLTemplate:"http://www.linkedin.com/shareArticle?url={shareLink}&mini=true",countURLTemplate:"http://www.linkedin.com/countserv/count/share?url={shareLink}&lang=en_US&callback={callback}",countParser:function(a){return a.count}},pinterest:{shareURLTemplate:"http://pinterest.com/pin/create/button/?url={shareLink}&media={thumbnail}&description={headline} {summary}"},reddit:{shareURLTemplate:"http://www.reddit.com/submit?url={shareLink}&title={headline}"},digg:{shareURLTemplate:"http://digg.com/submit?url={shareLink}&title={headline}"},email:{shareURLTemplate:"mailto:?subject={headline}&body={shareLink}"},stumbleupon:{shareURLTemplate:"http://www.stumbleupon.com/submit?url={shareLink}&title={headline}"},delicious:{shareURLTemplate:"http://delicious.com/save?url={shareLink}&title={headline}"},tumblr:{shareURLTemplate:"http://www.tumblr.com/share?v=3&u={shareLink}&t={headline}"},blogger:{shareURLTemplate:"http://www.blogger.com/blog_this.pyra?t&u={shareLink}&n={headline}&pli=1"},instapaper:{shareURLTemplate:"http://www.instapaper.com/hello2?url={shareLink}%2F&title={headline}&description="},google:{shareURLTemplate:"http://www.google.com/ig/add?source={shareLink}"},messenger:{shareURLTemplate:"http://profile.live.com/badge?url={shareLink}"},evernote:{shareURLTemplate:"http://www.evernote.com/clip.action?url={shareLink}&title={headline}"},diigo:{shareURLTemplate:"http://www.evernote.com/clip.action?url={shareLink}&title={headline}"},livejournal:{name:"LiveJournal",shareURLTemplate:"http://www.livejournal.com/update.bml?subject={headline}&event={shareLink}"},myspace:{shareURLTemplate:"http://www.myspace.com/Modules/PostTo/Pages/?l=3&u={shareLink}&t={headline}&c={summary}"},sina:{shareURLTemplate:"http://v.t.sina.com.cn/share/share.php?title={shareLink}"},amazon_wishlist:{name:"Amazon Wishlist",shareURLTemplate:"http://www.amazon.com/wishlist/add?u={shareLink}&t={headline}"},typepad:{shareURLTemplate:"http://www.typepad.com/services/quickpost/post?v=2&qp_show=ac&qp_title={headline}&qp_href={shareLink}&qp_text={summary}"},slashdot:{shareURLTemplate:"http://slashdot.org/slashdot-it.pl?op=basic&url={shareLink}&title={headline}"},newsvine:{shareURLTemplate:"http://www.newsvine.com/_tools/seed&save?popoff=0&u={shareLink}&h={headline}"},baidu:{shareURLTemplate:"http://cang.baidu.com/do/add?it={headline}&iu={shareLink}&dc={summary}"},orkut:{shareURLTemplate:"http://promote.orkut.com/preview?nt=orkut.com&tt={headline}&du={shareLink}"},care2:{shareURLTemplate:"http://www.care2.com/news/compose?share[link_url]={shareLink}&share[title]={headline}"},allvoices:{shareURLTemplate:"http://www.allvoices.com/post_event?url={shareLink}&title={headline}"},meneame:{shareURLTemplate:"http://meneame.net/submit.php?url={shareLink}"},squidoo:{shareURLTemplate:"http://www.squidoo.com/lensmaster/bookmark?{shareLink}"},friendfeed:{name:"FriendFeed",shareURLTemplate:"http://friendfeed.com/share?url={shareLink}&title={headline}"},fark:{shareURLTemplate:"http://cgi.fark.com/cgi/farkit.pl?u={shareLink}&h={headline}"},google_bmarks:{name:"Google Bookmarks",shareURLTemplate:"http://www.google.com/bookmarks/mark?op=edit&bkmk={shareLink}&title={headline}"},xanga:{shareURLTemplate:"http://www.xanga.com/private/editorx.aspx?t={headline}&u={shareLink}&s={summary}"},current:{shareURLTemplate:"http://current.com/clipper.htm?url={shareLink}&title={headline}"},technorati:{shareURLTemplate:"http://www.technorati.com/faves?add={shareLink}"},printArticle:{shareURLTemplate:location.href+"print"}}},{version:"0.0.1",requires:["node","jsonp"]});
/* Added file from arraylist/arraylist-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("arraylist",function(e,t){function s(t){t!==undefined?this._items=e.Lang.isArray(t)?t:n(t):this._items=this._items||[]}var n=e.Array,r=n.each,i;i={item:function(e){return this._items[e]},each:function(e,t){return r(this._items,function(n,r){n=this.item(r),e.call(t||n,n,r,this)},this),this},some:function(e,t){return n.some(this._items,function(n,r){return n=this.item(r),e.call(t||n,n,r,this)},this)},indexOf:function(e){return n.indexOf(this._items,e)},size:function(){return this._items.length},isEmpty:function(){return!this.size()},toJSON:function(){return this._items}},i._item=i.item,e.mix(s.prototype,i),e.mix(s,{addMethod:function(e,t){t=n(t),r(t,function(t){e[t]=function(){var e=n(arguments,0,!0),i=[];return r(this._items,function(n,r){n=this._item(r);var s=n[t].apply(n,e);s!==undefined&&s!==n&&(i[r]=s)},this),i.length?i:this}})}}),e.ArrayList=s},"3.11.0",{requires:["yui-base"]});

/* Added file from themes/salon/js/slnm/yui-mods/full-screen.js */
YUI.add("full-screen",function(a){function e(a){e.superclass.constructor.apply(this,arguments)}"use strict";var b=a.config.doc,c=a.one(b.documentElement),d=a.Lang;e.NAME="fullScreen",e.ATTRS={node:{value:null,readOnly:!0}},a.extend(e,a.Base,{_isSupported:!1,_vendorPrefix:"",initializer:function(){this.publish("change",{emitFacade:!0,broadcast:2}),this.before("change",function(a){var b=this.get("enabled");this._set("node",b?a.node:null)})},isSupported:function(){return this._isSupported},isEnabled:function(){return!1},exit:function(){}}),a.FullScreen=new e,function(){var c=new a.ArrayList(["webkit","moz"]);!d.isUndefined(b.cancelFullScreen)||!d.isUndefined(b.exitFullScreen)?a.FullScreen._isSupported=!0:c.each(function(c){!a.FullScreen._isSupported&&!d.isUndefined(b[c+"CancelFullScreen"])&&(a.FullScreen._isSupported=!0,a.FullScreen._vendorPrefix=c)})}();if(a.FullScreen.isSupported())switch(a.FullScreen._vendorPrefix){case"webkit":a.mix(e.prototype,{isEnabled:function(){return b.webkitIsFullScreen},exit:function(){b.webkitCancelFullScreen(),this.fire("change",{node:null})}},!0);break;case"moz":a.mix(e.prototype,{isEnabled:function(){return b.mozFullScreen},exit:function(){b.mozCancelFullScreen(),this.fire("change",{node:null})}},!0);break;default:a.mix(e.prototype,{isEnabled:function(){return d.isUndefined(b.fullscreenEnabled)?b.fullScreen:b.fullscreenEnabled},exit:function(){b.exitFullscreen(),this.fire("change",{node:null})}},!0)}a.FullScreen.isSupported()?(c.addClass("fullscreen"),c.removeClass("no-fullscreen")):(c.removeClass("fullscreen"),c.addClass("no-fullscreen"))},"@VERSION@",{requires:["arraylist","base-build","node-core","node-base"],skinnable:!1});
/* Added file from themes/salon/js/slnm/yui-mods/node-full-screen.js */
YUI.add("node-full-screen",function(a){"use strict";var b=a.FullScreen,c=a.config.doc,d=b._vendorPrefix,e=d+"fullscreenchange";a.namespace("Plugin").NodeFullScreen=a.Base.create("NodeFullScreen",a.Plugin.Base,[],{_listener:null,request:function(){var f=this.get("host"),g=f.getDOMNode(),h=d==="moz"?c:g;if(!b.isSupported())return;this._listener=function(){b.fire("change",{node:f}),b.once("change",function(){b.isEnabled()||h.removeEventListener(e,this._listener,!0)})},h.addEventListener(e,a.bind(this._listener,this),!0);switch(d){case"webkit":g.webkitRequestFullScreen();break;case"moz":g.mozRequestFullScreen();break;default:g.requestFullScreen()}}},{NS:"fullScreen"})},"@VERSION@",{requires:["full-screen","plugin","base-build","node-pluginhost"],skinnable:!1});
/* Added file from themes/salon/js/slnm/apps/slide-show.js */
YUI.add("slide-show",function(a){function c(c,d){function i(){j(),l()}function j(){d.on(b.updateNumber,function(a){f.set("text",a.currentIndex+1),a.service="facebookSendCustom",k(g,a),a.service="twitterTweets",k(h,a)})}function k(b,c){var d=b.one(".shareButton"),e=d?d.get("text"):b.get("text"),f=new a.ShareButton(c);d&&d.remove().destroy(),b.empty().append(f.root.set("text",e))}function l(){c.on("click",m)}function m(a){a&&a.preventDefault&&a.preventDefault(),a&&a.stopPropagation&&a.stopPropagation(),a.target&&a.target.get&&b[a.target.get("className")]&&e.fire(b[a.target.get("className")])}var e=this,f=c.one(".countCurrent"),g=c.one(".shareFacebook"),h=c.one(".shareTwitter");this.root=c,i()}function d(d){function A(){d.toggleClass("noFullScreen",!a.FullScreen.isSupported()),d.plug(a.Plugin.NodeFullScreen),d.all(".toolbar").each(function(a){var b=new c(a,e);E(b)}),z=new a.SalonAds,z.parseDartConfig(a.one(".adContainer")),a.Array.each(z.dartConfig.keywords,function(a,b){a.match(/\barticleid\b/)&&(z.dartConfig.keywords[b]="articleid="+n)}),d.addClass("firstRun").one(".arrowBox.next").set("text","View Slideshow"),i.on("click",D),a.one("body").prepend(f),B(),O()}function B(){var b=a.DOM.viewportRegion();l.each(function(a,b){a.on("click",function(){G(b),N(!1)})}),f.on("click",function(a){a&&a.preventDefault(),a&&a.stopPropagation(),L(!1)}),p.on("click",function(a){a&&a.preventDefault(),a&&a.stopPropagation(),L(!1)}),a.on("keyup",C),a.on("fullScreen:change",K),a.on("resize",function(c){var d;a.UA.ie&&a.UA.ie<9?(d=a.DOM.viewportRegion(),(b.width!=d.width||b.height!=d.height)&&O()):w||O()}),b.width<960?L(!1):d.on("click",function(a){w||L(!0)})}function C(a){var b=d.get("viewportRegion");if(d.inRegion(b)||s)switch(a.keyCode){case 37:F(-1);break;case 39:F(1)}}function D(a){if((a.target.test(".mainImage")||a.target.ancestor(".mainImage")||a.target.test(".otherSlideShows")||a.target.ancestor(".otherSlideShows")&&!d.hasClass("firstRun"))&&!a.target.ancestor("a")){var b=a.target.get("region"),c=b.left+b.width/2;a.clientX>c?F(1):F(-1)}}function E(a){a.on(b.prev,function(){F(-1)}),a.on(b.next,function(){F(1)}),a.on(b.fullscreen,J),a.on(b.thumbnails,N)}function F(a){q+=a,q=q<0?0:q,q=q>=j.size()?j.size()-1:q,G(q)}function G(c,f,h){var k=j.item(c),n=k.one(".scrollTrack"),p=a.Lang.trim(k.all(".content").get("text")[0])||"",r=300,s=k.one(".mainImage img");q=c,I(k),h?i.setStyles({left:-1*c*k.get("region").width+"px"}):(d.addClass("sliding"),i.transition({left:-1*c*k.get("region").width+"px"},function(){d.removeClass("sliding")})),s&&(M(s,k.one(".mainImage")),s.once("load",function(){M(s,k.one(".mainImage"))})),e.fire(b.updateNumber,{currentIndex:q,shareLink:o+"#slideShowID="+m+"&slideNum="+q,thumbnail:l.item(q)?l.item(q).getAttribute("data-source-standard"):null,headline:g.get("text")+" - Slide #"+(q+1),summary:p.substring(0,r)+(p.length>r?"...":"")});if(!f){if(n){var t=JSON.parse(n.get("innerHTML"));t.slots[2][1]="slide show",slnm.gaTracking.trackPage(t)}clearTimeout(v),v=setTimeout(H,600)}}function H(){s||d.hasClass("modalMode")?(d.all(".slideAd").empty(),d.one(".slideAd").append(z.generateAdTag("300-atf",[300,250]))):a.Global.fire("refreshAllAds")}function I(b){if(b){var c=b.one(".mainImage img");c&&a.Global.fire("loadLazyImage",{imageID:c.generateID(),size:t})}}function J(){w=!0,d.all(".slideAd").setStyle("display",null).empty(),a.UA.webkit&&(a.one("body").setStyles({opacity:0}),d.setStyles({opacity:0})),s?(x=!1,a.FullScreen.exit(),L(!1,!0)):(x=!0,L(!1,!0),d.fullScreen.request())}function K(b){s=a.FullScreen.isEnabled(),a.log("fullscreen change complete"),d.toggleClass("fullscreen",s),w=!1,O(),a.UA.webkit&&(d.transition({opacity:1}),a.one("body").transition({opacity:1}))}function L(a,b){d.removeClass("firstRun").one(".arrowBox.next").empty();var c=YUI().UA;(c.ipad||c.android&&!c.mobile)&&d.all(".arrowBox").setStyle("opacity",1);var e=d.hasClass("modalMode"),g=a?"-30px":0,j="960px";(a&&!e||!a&&e)&&!s&&(e||(y=d.get("region").width),d.all(".slideAd").setStyle("display",null).empty(),b?(d.toggleClass("modalMode",a),d.setStyles({width:a?j:null,left:g}),f.setStyles({display:a?"block":"none",opacity:a?.6:0})):(!a&&d.toggleClass("modalMode",a),f.setStyles({display:a?"block":"none",opacity:a?0:.6}).transition({opacity:a?.6:0,duration:.5}),i.transition({opacity:0,duration:.25}),h.transition({opacity:0,duration:.25}),d.transition({left:g,duration:.25},function(){d.transition({width:a?j:y+"px",duration:.25},function(){a&&d.toggleClass("modalMode",a),a&&H(),d.setStyles({width:a?j:null}),O(),i.transition({opacity:1,duration:.25}),h.transition({opacity:1,duration:.25})})})))}function M(a,b){a.setStyles({width:"auto",height:"auto",marginTop:null});var c=a.get("region"),d=b.get("region"),e=c.width/c.height,f;d.width=d.width-parseInt(b.getStyle("padding-right")),f=d.width/d.height,e>f?a.setStyles({width:d.width,height:d.width/e,"margin-top":null}):a.setStyles({width:d.height*e,height:d.height})}function N(b){u=b||!u,d.toggleClass("thumbnails",u),k.transition({top:u?"0":"100%"},function(){a.Global.fire("checkLazyImages")}),a.Global.fire("checkLazyImages")}function O(){if(w){a.log("Skipping resize during fullscreen transition.");return}a.log("start resize");var b=t,c=d.get("viewportRegion");r=d.get("region"),t=s?r.width>1280?"fullscreen_large":"fullscreen_small":"standard",f.setStyles({height:a.one("body").get("region").height}),j.each(function(d){var e=d.one(".mainImage img");s?d.setStyle("height",c.height):d.setStyle("height",null),e&&(e.once("load",function(){M(e,d.one(".mainImage"))}),b!=t&&(a.log("changing size"),a.Global.fire("swapLazyImageSize",{imageID:e.generateID(),oldSize:b,size:t})),M(e,d.one(".mainImage")))}),G(q,!0,!0),a.log("resize done")}var e=this,f=a.Node.create('<div class="slideShowOverlay"></div>'),g=d.one("h4"),h=d.one(".adPanel"),i=d.one(".slides"),j=i.all(".slide"),k=d.one(".thumbnailsHolder"),l=k.all("img"),m=d.get("id"),n=d.getAttribute("data-article-id"),o=d.getAttribute("data-permalink"),p=d.one(".closeModal"),q=0,r,s=!1,t="standard",u=!1,v,w=!1,x=!0,y,z;A()}a.SlideShow=d;var b={prev:"Previous",goToSlide:"Go To Slide",next:"Next",thumbnails:"Toggle Thumbnails",fullscreen:"Full Screen",updateNumber:"Update Number"};a.augment(c,a.EventTarget),a.augment(d,a.EventTarget)},"0.0.1",{requires:["node","transition","share-buttons","slide-show-css","full-screen","node-full-screen","salon-ads"]});
/* Added file from themes/salon/js/slnm/apps/share-tools.js */
YUI.add("share-tools",function(a){function b(b){function k(){f.each(function(a){var b=a.getAttribute("data-service");o(a,b),i.push(b)}),n(),l()}function l(){g.on("keyup",function(){m(g.get("value"))})}function m(b){a.each(j,function(a,c){b?c.match(b)?a.show():a.hide():a.show()})}function n(){a.each(a.shareButtonSerices,function(b,c){if(!b.excludeFromAll&&a.Array.indexOf(i,c)<0){var d=e.cloneNode(!0);d.one(".shareIcon").addClass(c),d.one(".shareText").set("text",b.name||c),h.append(d),j[c]=d,o(d,c)}})}function o(b,c){var e=a.clone(d),f;e.service=c,f=new a.ShareButton(b,e),f.service.fbDebug&&slnm.user.isAdmin(function(c){c&&b.insert(a.Node.create("<a target='_blank' class='button'>Fix Facebook</a>").set("href","http://developers.facebook.com/tools/debug/og/object?q="+d.shareLink),"after")})}var c=this,d={shareLink:b.getAttribute("data-share-link")||b.getAttribute("href")||window.location.href,headline:b.getAttribute("data-headline")||b.getAttribute("title")||document.title,summary:b.getAttribute("data-summary")||"",thumbnail:b.getAttribute("data-thumbnail")||b.getAttribute("src")||""},e=b.one(".flyOutShareToolsButton.template").removeClass("template").remove(),f=b.all(".shareButton"),g=b.one(".quickRefine"),h=b.one(".shareButtonsHolder"),i=[],j={};k()}a.ShareTools=b},"0.0.1",{requires:["share-buttons","transition"]});
/* Added file from anim-base/anim-base-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-base",function(e,t){var n="running",r="startTime",i="elapsedTime",s="start",o="tween",u="end",a="node",f="paused",l="reverse",c="iterationCount",h=Number,p={},d;e.Anim=function(){e.Anim.superclass.constructor.apply(this,arguments),e.Anim._instances[e.stamp(this)]=this},e.Anim.NAME="anim",e.Anim._instances={},e.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i,e.Anim.DEFAULT_UNIT="px",e.Anim.DEFAULT_EASING=function(e,t,n,r){return n*e/r+t},e.Anim._intervalTime=20,e.Anim.behaviors={left:{get:function(e,t){return e._getOffset(t)}}},e.Anim.behaviors.top=e.Anim.behaviors.left,e.Anim.DEFAULT_SETTER=function(t,n,r,i,s,o,u,a){var f=t._node,l=f._node,c=u(s,h(r),h(i)-h(r),o);l?"style"in l&&(n in l.style||n in e.DOM.CUSTOM_STYLES)?(a=a||"",f.setStyle(n,c+a)):"attributes"in l&&n in l.attributes?f.setAttribute(n,c):n in l&&(l[n]=c):f.set?f.set(n,c):n in f&&(f[n]=c)},e.Anim.DEFAULT_GETTER=function(t,n){var r=t._node,i=r._node,s="";return i?"style"in i&&(n in i.style||n in e.DOM.CUSTOM_STYLES)?s=r.getComputedStyle(n):"attributes"in i&&n in i.attributes?s=r.getAttribute(n):n in i&&(s=i[n]):r.get?s=r.get(n):n in r&&(s=r[n]),s},e.Anim.ATTRS={node:{setter:function(t){return t&&(typeof t=="string"||t.nodeType)&&(t=e.one(t)),this._node=t,!t,t}},duration:{value:1},easing:{value:e.Anim.DEFAULT_EASING,setter:function(t){if(typeof t=="string"&&e.Easing)return e.Easing[t]}},from:{},to:{},startTime:{value:0,readOnly:!0},elapsedTime:{value:0,readOnly:!0},running:{getter:function(){return!!p[e.stamp(this)]},value:!1,readOnly:!0},iterations:{value:1},iterationCount:{value:0,readOnly:!0},direction:{value:"normal"},paused:{readOnly:!0,value:!1},reverse:{value:!1}},e.Anim.run=function(){var t=e.Anim._instances,n;for(n in t)t[n].run&&t[n].run()},e.Anim.pause=function(){for(var t in p)p[t].pause&&p[t].pause();e.Anim._stopTimer()},e.Anim.stop=function(){for(var t in p)p[t].stop&&p[t].stop();e.Anim._stopTimer()},e.Anim._startTimer=function(){d||(d=setInterval(e.Anim._runFrame,e.Anim._intervalTime))},e.Anim._stopTimer=function(){clearInterval(d),d=0},e.Anim._runFrame=function(){var t=!0,n;for(n in p)p[n]._runFrame&&(t=!1,p[n]._runFrame());t&&e.Anim._stopTimer()},e.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var v={run:function(){return this.get(f)?this._resume():this.get(n)||this._start(),this},pause:function(){return this.get(n)&&this._pause(),this},stop:function(e){return(this.get(n)||this.get(f))&&this._end(e),this},_added:!1,_start:function(){this._set(r,new Date-this.get(i)),this._actualFrames=0,this.get(f)||this._initAnimAttr(),p[e.stamp(this)]=this,e.Anim._startTimer(),this.fire(s)},_pause:function(){this._set(r,null),this._set(f,!0),delete p[e.stamp(this)],this.fire("pause")},_resume:function(){this._set(f,!1),p[e.stamp(this)]=this,this._set(r,new Date-this.get(i)),e.Anim._startTimer(),this.fire("resume")},_end:function(t){var n=this.get("duration")*1e3;t&&this._runAttrs(n,n,this.get(l)),this._set(r,null),this._set(i,0),this._set(f,!1),delete p[e.stamp(this)],this.fire(u,{elapsed:this.get(i)})},_runFrame:function(){var e=this._runtimeAttr.duration,t=new Date-this.get(r),n=this.get(l),s=t>=e;this._runAttrs(t,e,n),this._actualFrames+=1,this._set(i,t),this.fire(o),s&&this._lastFrame()},_runAttrs:function(t,n,r){var i=this._runtimeAttr,s=e.Anim.behaviors,o=i.easing,u=n,a=!1,f,l,c;t>=n&&(a=!0),r&&(t=n-t,u=0);for(c in i)i[c].to&&(f=i[c],l=c in s&&"set"in s[c]?s[c].set:e.Anim.DEFAULT_SETTER,a?l(this,c,f.from,f.to,u,n,o,f.unit):l(this,c,f.from,f.to,t,n,o,f.unit))},_lastFrame:function(){var e=this.get("iterations"),t=this.get(c);t+=1,e==="infinite"||t<e?(this.get("direction")==="alternate"&&this.set(l,!this.get(l)),this.fire("iteration")):(t=0,this._end()),this._set(r,new Date),this._set(c,t)},_initAnimAttr:function(){var t=this.get("from")||{},n=this.get("to")||{},r={duration:this.get("duration")*1e3,easing:this.get("easing")},i=e.Anim.behaviors,s=this.get(a),o,u,f;e.each(n,function(n,a){typeof n=="function"&&(n=n.call(this,s)),u=t[a],u===undefined?u=a in i&&"get"in i[a]?i[a].get(this,a):e.Anim.DEFAULT_GETTER(this,a):typeof u=="function"&&(u=u.call(this,s));var l=e.Anim.RE_UNITS.exec(u),c=e.Anim.RE_UNITS.exec(n);u=l?l[1]:u,f=c?c[1]:n,o=c?c[2]:l?l[2]:"",!o&&e.Anim.RE_DEFAULT_UNIT.test(a)&&(o=e.Anim.DEFAULT_UNIT);if(!u||!f){e.error('invalid "from" or "to" for "'+a+'"',"Anim");return}r[a]={from:e.Lang.isObject(u)?e.clone(u):u,to:f,unit:o}},this),this._runtimeAttr=r},_getOffset:function(e){var t=this._node,n=t.getComputedStyle(e),r=e==="left"?"getX":"getY",i=e==="left"?"setX":"setY",s;return n==="auto"&&(s=t.getStyle("position"),s==="absolute"||s==="fixed"?(n=t[r](),t[i](n)):n=0),n},destructor:function(){delete e.Anim._instances[e.stamp(this)]}};e.extend(e.Anim,e.Base,v)},"3.11.0",{requires:["base-base","node-style"]});

/* Added file from anim-color/anim-color-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-color",function(e,t){var n=Number;e.Anim.getUpdatedColorValue=function(t,r,i,s,o){return t=e.Color.re_RGB.exec(e.Color.toRGB(t)),r=e.Color.re_RGB.exec(e.Color.toRGB(r)),(!t||t.length<3||!r||r.length<3)&&e.error("invalid from or to passed to color behavior"),"rgb("+[Math.floor(o(i,n(t[1]),n(r[1])-n(t[1]),s)),Math.floor(o(i,n(t[2]),n(r[2])-n(t[2]),s)),Math.floor(o(i,n(t[3]),n(r[3])-n(t[3]),s))].join(", ")+")"},e.Anim.behaviors.color={set:function(t,n,r,i,s,o,u){t._node.setStyle(n,e.Anim.getUpdatedColorValue(r,i,s,o,u))},get:function(e,t){var n=e._node.getComputedStyle(t);return n=n==="transparent"?"rgb(255, 255, 255)":n,n}},e.each(["backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],function(t){e.Anim.behaviors[t]=e.Anim.behaviors.color})},"3.11.0",{requires:["anim-base"]});

/* Added file from anim-xy/anim-xy-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-xy",function(e,t){var n=Number;e.Anim.behaviors.xy={set:function(e,t,r,i,s,o,u){e._node.setXY([u(s,n(r[0]),n(i[0])-n(r[0]),o),u(s,n(r[1]),n(i[1])-n(r[1]),o)])},get:function(e){return e._node.getXY()}}},"3.11.0",{requires:["anim-base","node-screen"]});

/* Added file from anim-curve/anim-curve-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-curve",function(e,t){e.Anim.behaviors.curve={set:function(t,n,r,i,s,o,u){r=r.slice.call(r),i=i.slice.call(i);var a=u(s,0,100,o)/100;i.unshift(r),t._node.setXY(e.Anim.getBezier(i,a))},get:function(e){return e._node.getXY()}},e.Anim.getBezier=function(e,t){var n=e.length,r=[],i,s;for(i=0;i<n;++i)r[i]=[e[i][0],e[i][1]];for(s=1;s<n;++s)for(i=0;i<n-s;++i)r[i][0]=(1-t)*r[i][0]+t*r[parseInt(i+1,10)][0],r[i][1]=(1-t)*r[i][1]+t*r[parseInt(i+1,10)][1];return[r[0][0],r[0][1]]}},"3.11.0",{requires:["anim-xy"]});

/* Added file from anim-easing/anim-easing-min.js */
/*
YUI 3.11.0 (build d549e5c)
Copyright 2013 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-easing",function(e,t){var n={easeNone:function(e,t,n,r){return n*e/r+t},easeIn:function(e,t,n,r){return n*(e/=r)*e+t},easeOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeBoth:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInStrong:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutStrong:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeBothStrong:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},elasticIn:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s))+t)},elasticOut:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-o)*2*Math.PI/s)+n+t)},elasticBoth:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r/2)===2?t+n:(s||(s=r*.3*1.5),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),e<1?-0.5*i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)*.5+n+t)},backIn:function(e,t,n,r,i){return i===undefined&&(i=1.70158),e===r&&(e-=.001),n*(e/=r)*e*((i+1)*e-i)+t},backOut:function(e,t,n,r,i){return typeof i=="undefined"&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},backBoth:function(e,t,n,r,i){return typeof i=="undefined"&&(i=1.70158),(e/=r/2)<1?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},bounceIn:function(t,n,r,i){return r-e.Easing.bounceOut(i-t,0,r,i)+n},bounceOut:function(e,t,n,r){return(e/=r)<1/2.75?n*7.5625*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},bounceBoth:function(t,n,r,i){return t<i/2?e.Easing.bounceIn(t*2,0,r,i)*.5+n:e.Easing.bounceOut(t*2-i,0,r,i)*.5+r*.5+n}};e.Easing=n},"3.11.0",{requires:["anim-base"]});


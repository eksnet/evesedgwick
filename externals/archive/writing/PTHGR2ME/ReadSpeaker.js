window.ReadSpeakerDefer={deferred:null,clickhandler:function(b){var b=b||window.event,d=b.target||b.srcElement;3===d.nodeType&&(d=d.parentNode);if(d!==document&&window.ReadSpeakerDefer.isRSLink(d)){window.ReadSpeakerDefer.deferred=d;if((d=window.ReadSpeakerDefer.findRSParent(d))&&d.className&&!/rsdeferred/i.test(d.className))d.className+=" rsdeferred";b.cancelBubble=!0;b.preventDefault&&b.preventDefault();b.stopPropagation&&b.stopPropagation();return!1}},init:function(){this.RSDeferClick(document)},
isRSLink:function(b){return this.isRSParent(b.parentNode)||b.href&&-1<b.href.indexOf("readspeaker.com/cgi-bin/rsent")},isRSParent:function(b){return b?b.className&&-1<b.className.indexOf("rsbtn")||b.id&&"string"===typeof b.id&&-1<b.id.indexOf("readspeaker_button"):!1},findRSParent:function(b){for(;b.parentNode&&b.parentNode!==document&&!(b=b.parentNode,"a"==b.tagName.toLowerCase()&&this.isRSLink(b)););return b==document?void 0:b.parentNode},RSDeferClick:function(b){b.addEventListener?b.addEventListener("click",
this.clickhandler,!1):b.attachEvent?b.attachEvent("onclick",this.clickhandler):b.onclick=this.clickhandler}};window.ReadSpeakerDefer.init();
(function(b){var d,f={major:"2",minor:"5",update:"5",revision:"1956",prod:"embhl"},g=[],I=0,w=0,J=!1,x=[],K=0,k=[],L=!1,r=[],B=!1,M=0,y=!1,n=null,i="default",N=!1,z=[],O=!1,V={},C="",D={},P=!1,Q="",A=null,E=function(a){if("string"==typeof a){for(var a="ReadSpeaker."+a.replace("_","."),a=a.split("."),e=b,c=0,d=a.length;c<d;c++)if(e)if(e[a[c]]){if(c==d-1)return e[a[c]];e=e[a[c]]}else break;else break;return!1}},R=function(a,e){x.push(a);K++;e||(e=[a]);for(var c=0,d=e.length;c<d;c++)try{var p=E(e[c]);
"function"==typeof p.init&&p.init.apply(p,[])}catch(q){t("[rspkr] Could not load: "+e[c]+" | "+q,3)}K==w&&!0===J&&(t("[rspkr] All prod mods loaded. _domready = "+y,4),c=function(){var a=b.ReadSpeaker;a.Common&&(a.c=a.Common);a.c&&(a.evt=a.c.addEvent,a.devt=a.c.dispatchEvent);a.c&&a.c.Settings&&(a.c.s=a.c.Settings);a.c.s&&(a.st=a.c.s);a.lib&&(a.l=a.lib);a.l&&a.lib.Facade&&(a.l.f=a.lib.Facade);a.l&&(a.l.f&&a.l.f.adapter)&&(a.l.f.a=a.l.f.adapter);a.modmap&&(a.m=a.modmap);a.pub&&a.pub.Config&&(a.pub.c=
a.pub.Config);a.pub.c&&(a.cfg=a.pub.c);a.PlayerAPI&&(a.pl=a.PlayerAPI);a.HL&&(a.hl=a.HL);a.ui&&(a.u=a.ui);b.ReadSpeaker.Common.dispatchEvent("onModsLoaded",b);b.ReadSpeaker.Common.dispatchEvent("onAfterModsLoaded",b);D.onAdapterReady?b.ReadSpeaker.Common.dispatchEvent("onReady",b):b.ReadSpeaker.Common.addEvent("onAdapterReady",function(){b.ReadSpeaker.Common.dispatchEvent("onReady",b)});b.ReadSpeaker.ui.viewport={width:$rs.width(b),height:$rs.height(b)}},b.ReadSpeaker.Common.addEvent("onReady",function(){F.executeCode();
F.loadExternal();F.flush();if(A)a:{rspkr.log("[rspkr.startAutoplay] Id: "+A);var a=$rs.get(A);if($rs.isArray(a)&&0<a.length)a=a[0];else if($rs.isArray(a)&&0==a.length)break a;a=$rs.findIn(a,"a");if($rs.isArray(a)&&0<a.length)a=a[0];else if($rs.isArray(a)&&0==a.length)break a;b.readpage(a)}}),y?c():b.ReadSpeaker.Common.addEvent("onDOMReady",c))},S=function(){rspkr.log("[rspkr.updateBaseClass] Attempting to update..");for(var a=document.getElementsByTagName("div"),e=/\brsbtn\b/,c=0,d=a.length;c<d;c++)e.test(a[c].className)&&
(a[c].className=a[c].className.replace(e,b.rsConf.ui.rsbtnClass));rspkr.log("[rspkr.updateBaseClass] Update successful!");R("skinfile")},u={extract:function(a){if("string"==typeof a){for(var b={},a=a.split(/[;&]/),c,d=0;d<a.length;d++)(c=a[d].split("="))&&2==c.length&&(b[unescape(c[0])]=unescape(c[1]).replace(/\+/g," "));return b}return{}}},F={isok:!0,executeCode:function(){this.isok=!0;if(!k.length)return!0;for(idx in k)if(k.hasOwnProperty(idx)&&"function"==typeof k[idx])try{k[idx].apply(b,[])}catch(a){this.isok=
!1,rspkr.log("[rspkr.q] "+a,3)}},loadExternal:function(){this.isok=!0;if(!r.length)return!0;for(idx in r)if(r.hasOwnProperty(idx))try{m.load(r[idx])}catch(a){this.isok=!1}},flush:function(){k=[];r=[]}},m={load:function(a){if("text/javascript"==a.type||"text/css"==a.type){a.src=n.path+a.src;var e=document.getElementsByTagName("head")[0],c=document.createElement("text/javascript"==a.type?"script":"link"),d=[f.major,f.minor,f.update,f.revision].join(".");"function"==typeof a.cb&&(void 0!==c.onreadystatechange?
c.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&a.cb.apply(b)}:c.onload=a.cb);c.id=a.id.replace(".","_");c.type=a.type;"text/javascript"==a.type?(c.src=a.src+"?v="+d,a.async&&(c.async=!0)):(c.rel="stylesheet",c.href=a.src+"?v="+d);e.appendChild(c)}}},T=function(a,b){return{id:b[1]||"readspeaker"+M++,type:b[2]||"text/javascript",src:a,cb:b[3]||null}},W=function(a){y?m.load(T(a,arguments)):r.push(T(a,arguments))},G=0,H={1:[],2:[],3:[],4:[],5:[],6:[]},U=function(a){rspkr.log("[rspkr.printErrorLog]",
1);for(var a=(a||"3").split(","),e=0;e<a.length;e++)if(H.hasOwnProperty(a[e])){var c=H[a[e]],d=a[e],d=parseInt(d)||3,p=s[d].lbl;console.groupCollapsed&&console.groupCollapsed(p);for(var q=0;q<c.length;q++)try{console[s[d].method]&&console[s[d].method](c[q])}catch(f){document.getElementById("readspeaker_debug")?document.getElementById("readspeaker_debug").innerHTML+="<p>"+p+": "+c[q]+"</p>":b.status+=p+": "+c[q]+" "}console.groupCollapsed&&console.groupEnd()}},s={1:{lbl:"Info",method:"log"},2:{lbl:"Warn",
method:"warn"},3:{lbl:"Err",method:"error"},4:{lbl:"AS",method:"log"},5:{lbl:"SW",method:"log"}},t=function(a,e){var c=C,e=e||1;H[e].push(a);if(c&&"string"===typeof c&&-1<c.indexOf(","+e+",")){c=s[e].lbl;try{console[s[e].method]&&console[s[e].method](G++ +". "+c+": "+a)}catch(d){document.getElementById("readspeaker_debug")?document.getElementById("readspeaker_debug").innerHTML+="<p>"+G++ +". "+c+": "+a+"</p>":b.status+=G++ +". "+c+": "+a+" "}}},X=function(a){C=/^,[0-9,]*,$/.test(a)?a:","+a+","};Object.size=
function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b};if(b.rsConf&&b.rsConf.params&&"string"===typeof b.rsConf.params&&b.rsConf.params)var v=b.rsConf.params,h=v.split("?");else h=document.getElementsByTagName("script"),v=h[h.length-1].getAttribute("src"),h=v.split("?");if(/\?/i.test(v)&&1<h.length&&h[1].length){var Q=v.replace(/ReadSpeaker\.js.*$/i,""),l;if(/rsdebug=rsdebug/i.test(document.location.href))try{l=","+document.location.href.split("?").pop().match(/rsdebug=rsdebug([^$|&]*)/i).pop()+
","}catch(Y){l=",3,"}else l="";C=l;l="";n=u=u.extract(h[1]);i=u.skin||"default";z=u.pids.split(",");n.path=h[0].replace("ReadSpeaker.js","");g.Core=["Common","lib.Facade","modmap"];g["pub.Config"]=!1;A=u.autoplay;n.forceBasicMode&&"1"===n.forceBasicMode||document.attachEvent&&/MSIE/i.test(navigator.userAgent)&&(document.compatMode&&"backcompat"===document.compatMode.toLowerCase()||/MSIE 6\./i.test(navigator.userAgent))?(P=!0,m.load({id:"rsmod_Styles",type:"text/css",src:(n.skinPathBasic||"ReadSpeaker.Styles-Basic")+
".css",cb:null})):(m.load({id:"rsmod_Styles",type:"text/css",src:"ReadSpeaker.Styles.css",cb:null}),"default"!==i&&(w++,m.load({id:"rsskin_"+i+"_style",type:"text/css",src:"skins/"+i+"/"+i+".css",cb:null}),m.load({id:"rsskin_"+i+"_js",type:"text/javascript",src:"skins/"+i+"/"+i+".js",cb:function(){"default"!==i&&B?S():N=!0},async:!0})));for(d in g)g.hasOwnProperty(d)&&(l=d,m.load({id:"req_"+l,type:"text/javascript",src:"ReadSpeaker."+l+".js",cb:function(){var a=(b.event?b.event.srcElement.id:this.id).replace("req_",
""),a=a.replace("_","."),a=!1===g[a]?[a]:g[a],d;I++;for(var c=0,f=a.length;c<f;c++)x.push(a[c]),d=E(a[c]),"function"==typeof d.init&&d.init.apply(d,[]);I==Object.size(g)&&(b.ReadSpeaker.Common.addEvent("onModsLoaded",b.ReadSpeaker.pub.Config.setup),O=!0,a={id:"",type:"text/javascript",src:"",cb:function(){var a=(b.event?b.event.srcElement.id:this.id).replace("rsmod_","");x.push(a);a=E(a);"function"==typeof a.init&&a.init.apply(a,[]);if(O&&b.ReadSpeaker.modmap&&!L){for(var c=b.ReadSpeaker.modmap,a=
"|",d=[],e="",f="",i=[],g=0,h=z.length;g<h;g++)if(d=c.products&&"function"==typeof c.products[z[g]]?c.products[z[g]]():null)for(var j=0,l=d.length;j<l;j++)e=d[j],f=e[0]+","+e[1]+"|",2<e.length&&(i[e[0]]=e[2]),-1==a.indexOf("|"+f)&&(a+=f);a=a.split("|");j=c=0;for(h=a.length;j<h;j++)e=a[j].split(","),"undefined"!=typeof e[0]&&/text\/javascript/.test(e[1])&&c++;w+=c;for(var k,j=0,h=a.length;j<h;j++)e=a[j].split(","),e[0].length&&(/text\/javascript/.test(e[1])&&(k=function(){var a=b.event?b.event.srcElement.id:
this.id,c=i[a.replace("rsmod_","")];R(a.replace("rsmod_",""),c)}),m.load({id:"rsmod_"+e[0],type:e[1],src:"ReadSpeaker."+e[0]+("text/css"==e[1]?".css":".js"),cb:k,async:!0}));J=!0}}},d=b.ReadSpeaker.lib.Facade.currentLib().toLowerCase(),"rslib"==d?(a.id="rsmod_lib.RSLib",a.src="ReadSpeaker.lib.RSLib.js"):(a.id="rsmod_lib.Facade.adapter."+d,a.src="ReadSpeaker.lib.Facade.adapter."+d+".js"),m.load(a))},async:!0}))}else L=!0;d=new function(){this.meta={obj:f,version:[f.major,f.minor,f.update].join(".")+
"_rev"+f.revision+"-"+f.prod};this.q=function(a){"function"==typeof a&&(D.onReady?a.apply(b,[]):k.push(a))};this.init=function(){B||(B=!0,document.addEventListener&&document.removeEventListener("DOMContentLoaded",b.ReadSpeaker.init,!1),y=!0,b.ReadSpeaker.Common&&b.ReadSpeaker.Common.dispatchEvent("onDOMReady"),t("[rspkr] DOM Ready!"),N&&(t("[rspkr] Updating base class.",1),S()))};this.dynload=W;this.getLoadedMods=function(){return x};this.rsidCount=1E3;this.logcount=0;this.log=function(a,b){t(a,b||
1)};this.showLog=function(a){U(a||"1")};this.showLog=function(a){U(a||"1")};this.getID=function(){return"readspeaker"+M++};this.getVersion=function(){return this.meta.version};this.s=V;this.skin=i;this.displog=D;this.basicMode=P;this.params=n;this.setDebugLevel=X;this.baseUrl=Q};b.ReadSpeaker=b.rs=b.rspkr=d})(window);ReadSpeaker.enums={mime:{tjs:"text/javascript",tcss:"text/css",thtml:"text/html"}};
(function(b){var d=navigator.userAgent,f=eval("/*@cc_on! @*/false"),g=setTimeout;/mozilla/i.test(d)&&!/(compati)/.test(d)||/opera/i.test(d)||/webkit/i.test(d)?document.addEventListener("DOMContentLoaded",b,!1):f?function(){var d=document.createElement("doc:rdy");try{d.doScroll("left"),b()}catch(f){g(arguments.callee,0)}}():window.onload=b})(ReadSpeaker.init);
